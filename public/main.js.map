{"version":3,"file":"main.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B,UAAU,YAAY;AACrE;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,0DAA0D,UAAU,GAAG,MAAM;AAC7E,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,UAAU,GAAG,IAAI;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,OAAO;AACjF,iCAAiC,OAAO,IAAI,MAAM;AAClD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,kEAAkE,UAAU;AAC5E,yBAAyB,UAAU,IAAI,KAAK;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAe;;;;;;;;;;;AC1EF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B,UAAU,YAAY;AACrE;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;AChDF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4CAA4C,mBAAO,CAAC,6EAAgC;AACpF,sCAAsC,mBAAO,CAAC,iEAA0B;AACxE;AACA;AACA;AACA;AACA;;;;;;;UCXA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack://api-mapper/./src/components/amFetchData.ts","webpack://api-mapper/./src/components/loginMethodSelect.ts","webpack://api-mapper/./src/main.ts","webpack://api-mapper/webpack/bootstrap","webpack://api-mapper/webpack/before-startup","webpack://api-mapper/webpack/startup","webpack://api-mapper/webpack/after-startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass FetchData {\n    constructor(form) {\n        this.form = form;\n        this.action = \"amfetch_data\";\n        this.postId = form.querySelector(\"select[name='api-selector']\").value;\n        this.container = document.getElementById('data-output');\n        this.fetch();\n    }\n    fetch() {\n        fetch(`${window.admin_globals.ajax_url}?action=${this.action}`, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            body: new URLSearchParams({\n                'post_ID': this.postId,\n            }),\n        })\n            .then(response => response.json())\n            .then(data => {\n            if (data.success) {\n                if (this.container) {\n                    this.container.innerHTML = \"\";\n                }\n                this.displayData(data.data, this.container);\n            }\n        })\n            .catch((error) => {\n            console.error('Error:', error);\n        });\n    }\n    displayData(item, container, parentKey = '') {\n        if (Array.isArray(item)) {\n            item.forEach((childItem, index) => {\n                this.displayData(childItem, container, `${parentKey}[${index}]`);\n            });\n        }\n        else if (typeof item === 'object' && item !== null) {\n            Object.keys(item).forEach(key => {\n                let value = item[key];\n                let newKey = parentKey ? `${parentKey}.${key}` : key;\n                if (typeof value === 'object') {\n                    this.displayData(value, container, newKey);\n                }\n                else {\n                    let fieldHtml = `\r\n                    <div>\r\n                        <input type=\"checkbox\" class=\"api-field\" value=\"${newKey}\" />\r\n                        <label>${newKey}: ${value}</label>\r\n                    </div>`;\n                    container.insertAdjacentHTML('beforeend', fieldHtml);\n                }\n            });\n        }\n        else {\n            let fieldHtml = `\r\n            <div>\r\n                <input type=\"checkbox\" class=\"api-field\" value=\"${parentKey}\" />\r\n                <label>${parentKey}: ${item}</label>\r\n            </div>`;\n            container.insertAdjacentHTML('beforeend', fieldHtml);\n        }\n    }\n}\nconst amFetchData = () => {\n    const form = document.getElementById('am_api_get');\n    console.log(form);\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            new FetchData(form);\n        });\n    }\n};\nexports.default = amFetchData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass LoginSelect {\n    constructor(select) {\n        var _a;\n        this.select = select;\n        this.selectedValue = this.select.value;\n        this.action = \"login_method_select\";\n        this.postId = ((_a = document.getElementById(\"post_ID\")) === null || _a === void 0 ? void 0 : _a.value) || '';\n        this.methodContainer = document.getElementById('selected_method');\n    }\n    fetchInput() {\n        this.selectedValue = this.select.value;\n        fetch(`${window.admin_globals.ajax_url}?action=${this.action}`, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            body: new URLSearchParams({\n                'login-method': this.selectedValue,\n                'post_ID': this.postId,\n            }),\n        })\n            .then(response => response.json())\n            .then(data => {\n            if (data.success) {\n                this.appendInput(data.data.view);\n            }\n        })\n            .catch((error) => {\n            console.error('Error:', error);\n        });\n    }\n    appendInput(view) {\n        this.methodContainer.innerHTML = \"\";\n        this.methodContainer.innerHTML = view;\n    }\n    listenForChange() {\n        this.select.addEventListener('change', () => {\n            this.fetchInput();\n        });\n    }\n}\nconst loginMethodSelect = () => {\n    const selectElement = document.getElementById('login_method');\n    if (selectElement) {\n        const loginSelect = new LoginSelect(selectElement);\n        loginSelect.listenForChange();\n    }\n};\nexports.default = loginMethodSelect;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst loginMethodSelect_1 = __importDefault(require(\"./components/loginMethodSelect\"));\nconst amFetchData_1 = __importDefault(require(\"./components/amFetchData\"));\nconst init = () => {\n    (0, loginMethodSelect_1.default)();\n    (0, amFetchData_1.default)();\n};\ninit();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/main.ts\");\n",""],"names":[],"sourceRoot":""}